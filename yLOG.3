.TH yLOG 3 2008-jul "linux" "heatherly custom tools manual"

.SH NAME
yLOG_martus \- clean, consistent, and complete execution logging

.SH IMAGERY
martus (mar-toos, ףטרתש) means witness, record, spectate, or testify

.SH SUMMARY
yLOG is a simple, direct, consistent, and clean shared library for process
execution logging to encourage program monitoring, execution flow understanding,
defensive coding, and early issue detection.

.SH SYNOPSIS
.nf
.B #include  <yLOG.h>

.R  ---general-------------------------------------
.sp
.BI "char     yLOG_version (void);"
.BI "int      yLOG_begin   (cchar *" "a_program" ", cchar " "a_location" ", cchar " "a_quiet" ");"
.BI "int      yLOG_lognum  (void);"
.BI "void     yLOG_end     (void);"
.BI "char     yLOG_time    (void);"

.R  ---functions-----------------------------------
.sp
.BI "void     yLOG_enter   (cchar *" "a_func   " ");"
.BI "void     yLOG_exit    (cchar *" "a_func   " ");"
.BI "void     yLOG_exitr   (cchar *" "a_func   " ", cint    " "a_rce" ");"

.R  ---normal--------------------------------------
.sp
.BI "void     yLOG_note    (cchar *" "a_info" ");"
.BI "void     yLOG_info    (cchar *" "a_subject" ", cchar  *" "a_info" ");"
.BI "void     yLOG_delim   (cchar *" "a_subject" ", cchar  *" "a_info" ");"
.BI "void     yLOG_value   (cchar *" "a_subject" ", cint    " "a_value" ");"
.BI "void     yLOG_llong   (cchar *" "a_subject" ", cllong  " "a_value" ");"
.BI "void     yLOG_hex     (cchar *" "a_subject" ", cint    " "a_value" ");"
.BI "void     yLOG_double  (cchar *" "a_subject" ", cdouble " "a_value" ");"
.BI "void     yLOG_char    (cchar *" "a_subject" ", cchar   " "a_char" ");"
.BI "void     yLOG_point   (cchar *" "a_subject" ", cvoid  *" "a_pointer" ");"
.BI "void     yLOG_bullet  (cint   " "a_num    " ", cchar  *" "a_info" ");"
.BI "void     yLOG_pair    (cint   " "a_num    " ", cint    " "a_value" ");"
.BI "void     yLOG_complex (cchar *" "a_subject" ", cchar  *" "a_format" ", " "..." ");"

.R  ---breaks--------------------------------------
.sp
.BI "void     yLOG_break   (void);"
.BI "void     yLOG_sync    (void);"

.R  ---compact-------------------------------------
.BI "void     yLOG_senter  (cchar *" "a_func   " ");"
.BI "void     yLOG_sexit   (cchar *" "a_func   " ", cint    " "a_rce" ");"
.BI "void     yLOG_snote   (cchar *" "a_info   " ");"
.BI "void     yLOG_sinfo   (cchar *" "a_subject" ", cchar  *" "a_info" ");"
.BI "void     yLOG_sint    (cint   " "a_value  " ");"
.BI "void     yLOG_shex    (cuint  " "a_value  " ");"
.BI "void     yLOG_schar   (cchar  " "a_info   " ");"
.BI "void     yLOG_spoint  (cvoid *" "a_pointer" ");"
.BI "void     yLOG_svalue  (cchar *" "a_subject" ", cint    " "a_value" ");"

.R  ---warnings------------------------------------
.sp
.BI "void     yLOG_warn    (cchar *" "a_subject" ", cchar  *" "a_issue" ");"
.BI "void     yLOG_error   (cchar *" "a_subject" ", cchar  *" "a_issue" ");"
.BI "void     yLOG_fatal   (cchar *" "a_subject" ", cchar  *" "a_issue" ");"

.R  ---extended------------------------------------
.sp
.BI "void     yLOG_hintx   (cchar *" "a_file" ", cint " "a_line" ", cchar *" "a_reason" ","
.BI "                       cchar *" "a_format" ", " "..." ");"
.BI "void     yLOG_warnx   (cchar *" "a_file" ", cint " "a_line" ", cchar *" "a_reason" ","
.BI "                       cchar *" "a_format" ", " "..." ");"
.BI "void     yLOG_errorx  (cchar *" "a_file" ", cint " "a_line" ", cchar *" "a_reason" ","
.BI "                       cchar *" "a_format" ", " "..." ");"
.BI "void     yLOG_fatalx  (cchar *" "a_file" ", cint " "a_line" ", cchar *" "a_reason" ","
.BI "                       cchar *" "a_format" ", " "..." ");"

.sp
Must also link to either the yLOG.so (shared) or yLOG.a (static) library
as this is not automatic.  Add "-lyLOG" to the object linking.

.SH DESCRIPTION
yLOG consists of
.BI 36
total functions separated into five categories --
.BI 4
overall,
.BI 2
function,
.BI 12
line oriented logging,
.BI 9
compact logging,
.BI 3
normal warning, and
.BI 4
extended warning functions.


.B GENERAL ---------------------------------------------------------
.sp
.B yLOG_begin,
in order to prepare the logger for use, this function passes a couple of
vital pieces of information.  The first is the program name to name the
output file.  The second is the output location (see FILE section below).
And the third is yLOG_NOISE (full output) or yLOG_QUIET (no output).
.sp
.B yLOG_lognum,
returns the file number of the logger to avoid closing or confusion.
.sp
.B yLOG_end,
stops the logger and frees up the resources.  Any calls to the logger after
this may result in an error.
.sp
.B yLOG_version,
produces a formatted string of the number and description for the current 
version of the yLOG library.  This is useful for debugging and is often
saved to the log itself.


.B LINE ORIENTED ---------------------------------------------------
.sp
these functions all produce a single line of output each, indented to
represent the processing depth.  the next two, yLOG_enter and yLOG_exit,
are the only two that change the indentation level.
.sp
.B yLOG_enter,
for each entry into a notable routine, the program should call this function
with the compilier constant
.BI __FUNCTION__
as the parameter to avoid any and all hard coding.  this function will increase
indenting by one level.
.sp
.B yLOG_exit,
for each exit from a notable routine, the program should call this function
with the compilier constant
.BI __FUNCTION__
as the parameter to avoid any and all hard coding.  this function will decrease
indenting by one level.  since the logger uses
indentation, yLOG_enter and yLOG_exit should always be paired.
.sp
the next twelve functions are used to present various data scenarios and types.
each of them acts on the following data elements: a_subject is a 1-10 character
short title, a_info is a character string, a_value is a numeric, and a_num
is also a numeric used as a title.
.sp
.B yLOG_note,
presents a text string on the line, usually to show minor transitions in
the program or to break up other messages.
.sp
.B yLOG_info,
presents a short title/subject followed by a string with the actual
information.
.sp
.B yLOG_delim,
presents a short title/subject followed by a string with the actual
information which is delimited to show length clearly.
.sp
.B yLOG_value,
presents a short title/subject followed by an integer presenting a variable
or state.
.sp
.B yLOG_llong,
presents a short title/subject followed by a long long integer presenting
a variable or state.
.sp
.B yLOG_hex,
presents a short title/subject followed by a hexadecimal number representing
a variable.
.sp
.B yLOG_double,
presents a short title/subject followed by a double floating point number
presenting a variable.
.sp
.B yLOG_char,
presents a short title/subject followed by a character value presenting
a variable or state.
.sp
.B yLOG_point,
presents a short title/subject followed by a pointer value presenting
a variable or memory location.
.sp
.B yLOG_bullet,
presents a sequence number followed by an integer value presenting
a variable or state.
.sp
.B yLOG_pair,
presents an integer number followed by another integer value presenting
two related values at once.
.sp
.B yLOG_complex,
presents an short title/subject followed by formatting string of values
to present more complex data.


.B BREAKS ----------------------------------------------------------
.sp
these functions allow special types of breaks in the logging.
.sp
.B yLOG_break,
simply inserts a visible break in logging, made up of dashes in order
to set off certain parts of the output.
.sp
.B yLOG_sync,
deletes log entries between two consecutive sync points to keep long
running programs for creating massive logs


.B COMPACT ---------------------------------------------------------
.sp
these functions work together to produce a single line of in total, indented to
represent quick, but complex actions.
.sp
.B yLOG_senter,
for each entry into a notable routine, the program should call this function
with the compilier constant
.BI __FUNCTION__
as the parameter to avoid any and all hard coding.
.sp
.B yLOG_sexit,
for each exit from a notable routine, the program should call this function
with the compilier constant
.BI __FUNCTION__
as the parameter to avoid any and all hard coding.
.sp
since the logger uses a single line, yLOG_senter and yLOG_sexit should always
be paired.
.sp
the next ten functions are used to present various date scenarious and types.
each of them acts on the following data elements: a_subject is a 1-10 character
short title, a_info is a character string, a_value is a numeric, and a_num
is also a numeric used as a title.
.sp
.B yLOG_note,
presents a string in the line, usually to show actions.
.sp
.B yLOG_sint,
presents an integer in the line, usually to show value.
.sp
.B yLOG_shex,
presents a hex integer in the line, usually to show value.
.sp
.B yLOG_schar,
presents a char in the line, usually to show state.
.sp
.B yLOG_spoint,
presents a pointer in the line, usually to show location.
.sp
.B yLOG_sinfo,
presents a subject/string pair when lable is important.
.sp
.B yLOG_svalue,
presents a subject/integer pair when lable is important.


.B NORMAL WARNINGS -------------------------------------------------
.sp
these functions produce a line oriented warning message that works just like
the yLOG_info function but is categorized differently.
.sp
.B yLOG_warn,
presents a short title/subject followed by a string with the actual
convern, shown as a [w] instead of [i].
.sp
.B yLOG_error,
presents a short title/subject followed by a string with the actual
convern, shown as a [e] instead of [i].
.sp
.B yLOG_fatal,
presents a short title/subject followed by a string with the actual
convern, shown as a [g] instead of [i].


.B EXTENDED WARNINGS -----------------------------------------------
.sp
these functions produce a line oriented warning message that works just like
the yLOG_info function but is categorized differently.  But, they also
generate compilier style warnings to the screen.

they're parameters are all the same.  The first is a string of the source file
name originating the error, usually done with the
.BI __FILE__
compilier constant.
The second is the line number in the source file, , usually done with the
.BI __LINE__
compilier constant.  And, the third is a string of 1-12 characters
that gives a general reason for the error.

The remaining parameters are used exactly as printf would be formatted so that
temporary string storage is not required.  Essentially, that means a format
string and a list of arguments.
.sp
.B yLOG_hintx,
presents a short title/subject followed by a string with the actual
convern, shown as a [h] instead of [i].  Plus this produces a standard
screen message.
.sp
.B yLOG_warnx,
presents a short title/subject followed by a string with the actual
convern, shown as a [w] instead of [i].  Plus this produces a standard
screen message.
.sp
.B yLOG_errorx,
presents a short title/subject followed by a string with the actual
convern, shown as a [e] instead of [i].  Plus this produces a standard
screen message.
.sp
.B yLOG_fatalx,
presents a short title/subject followed by a string with the actual
convern, shown as a [g] instead of [i].  Plus this produces a standard
screen message.


.SH OUTPUT
first is the header...

   heatherly program logger========================================begin===
      host       : siquei
      user       : root
      program    : hestia
      pid        : 001607
      start date : Mon May 23 21:03:52 2016
      start (ms) : 27517
      log file   : /var/log/yLOG/16.05.23.21.03.52.hestia_________.21.ulog
      log core   : false
   ========================================================================
   secs---.-ms -step- lvl ---comment---------------------------------------

then a sample of start-up logging with function enter and exit...

   secs---.-ms -step- lvl ---comment---------------------------------------
         0.000      1 [i] logger loaded...
         0.000      2 [s] ENTERING (PROG_init)
         0.000      3 [i]    purpose   : consistent, reliable handling of t
         0.000      4 [i]    cli_args  : none
         0.000      5 [i]    kharon    : [gnu gcc    ]   2.0a : breakout fr
         0.000      6 [i]    yEXEC     : [gnu gcc    ]   1.1a : clean up ex
         0.000      7 [i]    yLOG      : [gnu gcc    ]   1.2b : standardize
         0.000      8 [s] EXITING  (PROG_init)
         0.000      9 [s] ENTERING (PROG_args)
         0.000     10 [i]    argument  : --acheron
         0.000     11 [i]    argument  : --leisurely
         0.000     12 [i]    #args     : 1
         0.000     13 [i]    my.delay  : 15
         0.000     14 [s] EXITING  (PROG_args)

then a sample of shutdown logging with footer...

   ------- --- ------ --- --------------------------------------------------
         2.097     18 [s] ENTERING (PROG_end)
         2.097     19 [s] EXITING  (PROG_end)
         2.097     20 [i] logger stopped...
   secs---.-ms -step- lvl ---comment----------------------------------------
   =========================================================================
      end date   : Thu May 26 07:15:56 2016
      end (ms)   : 209551847
      dur (ms)   : 2097
      duration   :  0h,  0m,  2s
   ===================================================================end===

.SH FILES

yLOG uses several locations for storing output depending on the setting used
when yLOG_begin is called.  the file name remains the same...

YY.MM.DD.hh.mm.ss.prog_______________________.WW.ulog
   -- YY.MM.DD is the system date
   -- hh.mm.ss is the system time
   -- prog is the program name padded with underscores
   -- WW is the week of the year
   -- ulog is the standard suffix i use

the file location is as follows...

.BI /var/log/yLOG/,
is used when YLOG_SYSTEM is passed (temp dir)

.BI /var/log/yLOG.historical/,
is used when YLOG_HISTORICAL is passed

.BI /,
is used when YLOG_ROOT is passed

.BI ~/l_hlisda/,
is used when YLOG_PERSONAL is passed

.BI stdout,
is used when YLOG_STDOUT is passed

yLOG has no input or configuration files.

.SH BUGS
i have never allowed anyone else to use it, so maybe there will be many once
it hits other setups.  in particular, my logging directories are custom.

.SH SEE ALSO
this documentation is layered to provide easier navigation.
   yLOG (3), library functions, constants, and usage
   yLOG (7), decision rationale, objectives, and overview

.SH AUTHOR
jelloshrke ata gmail dotta com

.SH COLOPHON
this page is part of a documentation package mean to make the use of the
heatherly tools easier and faster

